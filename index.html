<!DOCTYPE html>
<html>
<head>
    <title>Strong Towns ABQ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    @font-face {
        font-family: 'montserrat';
        src: url("Montserrat-Regular.ttf");
        font-weight: normal;
        font-style: normal;
    }
    body {
        color: black;
        font-family: 'montserrat';
        font-size: 100%;
        margin: 0;
    }
    img{
        transition: transform .3s;
        width:220px;
        height:146px;
        background-color: rgb(173, 173, 237);
        border: none;
        margin-left: 10px;
    }
    img:hover{
        opacity:0.5;
        background-color:rgba(0,0,0,0.5);
        transition:all .5s ease-in-out;
        transform:scale(1.2);
    }

</style>
</head>



<body>
<h1 style="text-align:center">Strong Towns ABQ</h1>
<table style="width:100%">
    <tr>
        <th><div onmouseover="hoverImg0()" class="div-img">
            <img id="image0" onmouseleave="hideCanvasMsg(this)" src='images/StrongTownsHome.jpg' alt="">
        </div></th>
        <td rowspan="4">
            <canvas id="myCanvas" width="1100px" height="730px"></canvas>
        </td>
    </tr>
    <tr>
        <th><div onmouseover="hoverImg1()" class="div-img">
            <img id="image1" onmouseleave="hideCanvasMsg(this)" src='images/2019-08-ABQ-fromPinoTrail.jpg' alt="">
        </div></th>
    </tr>
    <tr>
        <th><div onmouseover="hoverImg2()" class="div-img">
            <img id="image2" onmouseleave="hideCanvasMsg(this)" src='images/2007-12-LaLuzTrail.jpg' alt="">
        </div></th>
    </tr>
    <tr>
        <th><div onmouseover="hoverImg3()" class="div-img">
            <img id="image3" onmouseleave="hideCanvasMsg(this)" src='images/2022-03-CherryBlossomsInSnow-NorthEastHeights.jpg' alt="">
        </div></th>
    </tr>
    <th> </th>
    <td>
        <p id="ImageInfo"> hello </p>
    </td>
</table>


<script>
    let canvas, ctx;
    let imageList = [];
    let textColor = "#ffb54a";
    let imageInfo = document.getElementById("ImageInfo");
    let displayCanvasText = true;
    let curImage, curTitle, curMsgList
    window.onload = init;

    function init(){
        canvas = document.getElementById("myCanvas");
        ctx = canvas.getContext("2d");
        imageList.push(document.getElementById("image0"));
        imageList.push(document.getElementById("image1"));
        imageList.push(document.getElementById("image2"));
        imageList.push(document.getElementById("image3"));
        //console.log(imageList)
        hoverImg0();
    }

    function hideCanvasMsg(event) {
        displayCanvasText = false;
        updateCanvas();
    }

    function hoverImg0() {
        displayCanvasText = true;
        curImage = 0;
        curTitle = "Next Meeting:";
        curMsgList = [
            "Time: March 20th, 6 - 7:30 PM",
            "Location:",
            "   Humble Coffee",
            "   505 Central Ave NW,",
            "   Albuquerque, NM 87102"
        ];
        imageInfo.innerHTML= "(need to find who created this image)";
        updateCanvas();
    }
    function hoverImg1() {
        displayCanvasText = true;
        curImage = 1;
        curTitle = "About Us:";
        curMsgList = [
            "Strong Towns ABQ is a local chapter of",
            "the national Strong Towns, nonprofit",
            "media advocacy organization.", " ",
            "Strong Towns produce content that",
            "analyzes the failures of the post-war",
            "North American development pattern",
            "while giving citizens the knowledge",
            "and tools to start making our places",
            "better today."
        ];
        imageInfo.innerHTML= "Albuquerque as seen from Pi&ntilde;o Trail, Aug 2019, photo by Joel Castellanos";
        updateCanvas();
    }
    function hoverImg2() {
        curImage = 2;
        displayCanvasText = true;
        curTitle = "Mission Statement:";
        curMsgList = [
            "We worked on a mission statement in",
            "February meeting.", " ",
            "From out Facebook page:",
            "Let's discuss urbanism within",
            "Albuquerque and work together to",
            "improve our city!"
        ];
        imageInfo.innerHTML= "View of Sandia Mountain from La Luz Trail, Dec 2007, photo by Joel Castellanos";
        updateCanvas();
    }
    function hoverImg3() {
        displayCanvasText = true;
        curImage = 3;
        curTitle = "More Information:";
        curMsgList = [
            "Find us on the Facebook as:",
            "     Strong Towns Albuquerque",
            "Find us on instagram:",
            "     @strongtownsabq"
        ];
        updateCanvas();
        imageInfo.innerHTML= "Cherry Blossoms, Avenida de la Luna in North East Heights, Mar 2022, photo by Joel Castellanos";
    }

    function updateCanvas() {
        ctx.drawImage(imageList[curImage], 0, 0);
        if (displayCanvasText) {
            ctx.fillStyle = "rgba(0,0,0,0.8)";
            let boxHeight = 80 + curMsgList.length * 40;
            ctx.fillRect(10, 10, 700, boxHeight);
            ctx.font = "48px montserrat";
            ctx.fillStyle = textColor;
            ctx.fillText(curTitle, 15, 50);
            ctx.font = "32px montserrat";
            let y = 100
            for (const msg of curMsgList) {
                ctx.fillText(msg, 40, y);
                y += 40;
            }
        }
    }
</script>
</body>
</html>
